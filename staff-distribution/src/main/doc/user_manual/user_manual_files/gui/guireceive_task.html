<!--
  ~ Copyright © 2011-2014 EPAM Systems/B2BITS® (http://www.b2bits.com).
  ~
  ~ This file is part of STAFF.
  ~
  ~ STAFF is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Lesser General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ STAFF is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  ~ GNU Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public License
  ~ along with STAFF. If not, see <http://www.gnu.org/licenses/>.
  -->

<html>
  <head>
    <title>GuiReceive</title>
	<link href="../stylesheet.css" rel="stylesheet" type="text/css">
  </head>
  <body class="verd">
   <h1>GuiReceive</h1>
   <h2>Description</h2>
   <p>
    GuiReceive task receives and compares a set of messages from the connection.
    If number of received messages is less than expected, task fails.
    If one of the field of one of the message is not equal to expected, task fails.
   </p>
   <h2>Parameters</h2>
   <table border="1">
    <tr>
     <td><b>Attribute</b></td>
     <td><b>Description</b></td>
     <td><b>Default</b></td>
     <td><b>Required</b></td>
    </tr>
    <tr>
     <td>refid</td>
     <td>Reference name of the connection to receive messages from.</td>
     <td>None</td>
     <td>Yes</td>
    </tr>
    <tr>
     <td>timeout</td>
     <td>Number of seconds to wait for each message</td>
     <td>5</td>
     <td>No</td>
    </tr>
     <tr>
      <td>repeat</td>
      <td>How many times repeat this operation</td>
      <td>1</td>
      <td>No</td>
     </tr>
     <tr>
      <td>count</td>
      <td>How many times receive each message</td>
      <td>1</td>
      <td>No</td>
     </tr>
   </table>
   The GuiReceive task should contain a list of messages to be received and checked.
   <h2>Examples</h2>
   <pre>

    &lt;property name="test.host" value="127.0.0.1" /&gt;
    &lt;property name="test.port" value="8099" /&gt;

    &lt;guiClient id="client" host="${test.host}" port="${test.port}"/&gt;
    &lt;guiStart refid="client" /&gt;


    &lt;guiReceive refid="client" timeout="10"&gt;
	  &lt;guiMessage type="CMLR"&gt;
	        &lt;field name="TD" value="test" /&gt;
	        &lt;field name="RC" value="1" /&gt;
	        &lt;field name="TO" value="1" /&gt;
	        &lt;field name="RO" value="N" /&gt;
	        &lt;field name="UK" value="14" /&gt;
	        &lt;field name="AO" value="1" /&gt;
	        &lt;field name="AC" value="test" /&gt;
	  &lt;/guiMessage&gt;
	  &lt;guiMessage type="CMWT"/&gt;
    &lt;/guiReceive&gt;

    &lt;guiStop refid="client" /&gt;
   </pre>
  </body>
</html>
